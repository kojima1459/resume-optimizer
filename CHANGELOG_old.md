# Changelog

このファイルは、職務経歴書最適化ツールの全ての重要な変更を記録します。

## [1.0.0] - 2025-11-26

### 追加機能

#### MVP機能（フェーズ1）

職務経歴書最適化ツールの基本機能を実装しました。職務経歴書テキスト入力フォームと求人情報テキスト入力フォームを提供し、ユーザーは簡単に情報を入力できます。出力項目選択UIでは、職務要約、志望動機、自己PR、なぜ御社かなどの項目を選択でき、各項目の文字数を指定する機能も追加しました。Manus AIの内部LLMを使用した最適化文書生成APIを実装し、生成結果を表示するUIも提供しています。個別項目のコピー機能と再生成機能により、ユーザーは生成結果を柔軟に活用できます。ローディング状態の表示とエラーハンドリングも実装し、ユーザーエクスペリエンスを向上させました。

#### データベース・履歴管理（フェーズ2）

生成履歴保存機能を実装し、過去に生成した職務経歴書をデータベースに保存できるようになりました。履歴一覧表示UIと履歴詳細表示・再利用機能により、ユーザーは過去の履歴を簡単に参照し、再利用できます。履歴削除機能も追加し、不要な履歴を管理できるようになりました。

#### 出力項目の拡充（フェーズ2）

「職務経歴（最適化版）」項目と「企業で実現したいこと」項目を追加しました。さらに、カスタム項目の動的追加機能と削除機能により、ユーザーは独自のニーズに合わせて項目をカスタマイズできます。

#### コピー・編集機能（フェーズ2）

一括コピー機能により、全項目をまとめてコピーできるようになりました。項目別編集機能では、生成後にテキストエリアで各項目を自由に編集できます。

#### ファイル処理（フェーズ2）

PDF職務経歴書アップロード機能とWord職務経歴書アップロード機能を実装しました。ファイルからのテキスト抽出処理により、ユーザーは既存の職務経歴書ファイルを簡単に活用できます。

#### 翻訳・エクスポート（フェーズ2）

英語翻訳機能により、生成した各項目を英語に翻訳できます。一括ダウンロード機能では、Word形式とPDF形式の両方に対応し、生成した文書を簡単にダウンロードできます。

#### ログイン機能（フェーズ3）

Manus OAuthを使用したログイン機能を実装しました。バックエンドのpublicProcedureをprotectedProcedureに変更し、データベーススキーマのresumesテーブルにuserIdカラムを追加しました。db.tsのクエリにユーザーIDフィルタを追加し、フロントエンドに認証チェックとログインUIを追加しました。未ログイン時のリダイレクト処理も実装し、セキュリティを強化しました。

#### OCR機能（フェーズ4）

Tesseract.jsライブラリを使用したOCR機能を実装しました。求人情報欄に画像アップロード機能を追加し、画像からテキストを自動抽出できるようになりました。ローディング状態とエラーハンドリングも実装し、ユーザーエクスペリエンスを向上させました。

#### 複数パターン生成機能（フェーズ5）

バックエンドに複数パターン生成APIを追加し、フロントエンドにパターン数選択UIを実装しました。複数パターンの表示UIとパターン選択機能により、ユーザーは複数の候補から最適なものを選択できます。選択したパターンは編集内容に反映されます。

#### APIキー設定機能（フェーズ6）

データベーススキーマにAPIキー保存用テーブルを追加し、APIキーの暗号化・復号化ヘルパー関数を実装しました。APIキーの保存・取得・更新・削除のバックエンドAPIを提供し、設定画面UIにAPIキー入力フォームを追加しました。

#### Gemini APIキー対応（フェーズ8）

データベーススキーマにGemini APIキー用のカラムを追加し、設定画面UIにGemini APIキー入力欄を追加しました。バックエンドAPIでGemini APIキーの保存・取得に対応し、LLM呼び出しをinvokeLLMWithUserSettingsに置き換えました。JSON Schema形式からテキスト形式のJSON出力に変更し、resume.generate、resume.generateMultiple、resume.regenerate、resume.translateでGemini APIが使用されることを確認しました。

#### 業界別・職種別テンプレート機能（フェーズ10）

データベーススキーマにテンプレート保存用テーブルを追加し、IT、金融、製造、営業、マーケティングなどの業界別・職種別テンプレートデータを作成しました。バックエンドAPIでテンプレート取得機能を実装し、フロントエンドにテンプレート選択UIを追加しました。選択したテンプレートを生成時に適用する機能も実装しました。

#### ユーザー独自テンプレートのカスタマイズ機能（フェーズ12）

データベーススキーマにユーザーテンプレート保存用テーブル（userTemplatesテーブル）を追加しました。バックエンドAPIでユーザーテンプレートのCRUD機能を実装し、フロントエンドにテンプレート作成・編集UIを追加しました。ユーザーテンプレート一覧表示機能と削除機能により、ユーザーは独自のテンプレートを管理できます。ユーザーテンプレートを使用した生成機能も実装しました。

### テスト

全ての主要機能に対してVitestを使用した包括的なテストを実装しました。auth.logout、template、userTemplateのテストが全て成功し、機能の安定性を確保しました。

### ドキュメント

README.mdを作成し、プロジェクト概要、主な機能、技術スタック、セットアップ手順、使用方法を詳細に記載しました。CHANGELOG.mdを作成し、実装した機能の履歴を記録しました。

## [未実装の機能]

### AI自動評価機能（フェーズ7）

求人との適合度スコア計算のバックエンドAPI、複数パターン生成時の自動評価実行、フロントエンドへのスコア表示UI、スコアに基づくソート機能は未実装です。

### お気に入りパターン保存機能（フェーズ8）

データベーススキーマにお気に入りパターン保存用テーブルの追加、お気に入り保存・取得・削除のバックエンドAPI、フロントエンドへのお気に入り保存ボタンの追加、お気に入り一覧表示UI、次回生成時にスタイル参考として利用する機能は未実装です。

### 生成履歴の検索・フィルター機能（フェーズ9）

バックエンドAPIへの検索・フィルター機能の追加、日付範囲での検索機能、求人情報キーワードでの検索機能、フロントエンドへの検索・フィルターUIの追加、検索結果の表示機能は未実装です。

### AIによる職務経歴書の自動改善提案機能（フェーズ11）

バックエンドAPIでの改善提案生成機能の実装、生成後の文書の分析と改善点の抽出、より効果的な表現や構成の提案、フロントエンドへの改善提案表示UIの追加、改善提案を適用する機能は未実装です。

---

このCHANGELOGは、職務経歴書最適化ツールの開発履歴を記録し、今後の開発の参考として活用されます。
