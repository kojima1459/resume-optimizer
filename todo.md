# 職務経歴書最適化ツール - TODO

## MVP機能（フェーズ1）

- [x] 職務経歴書テキスト入力フォーム
- [x] 求人情報テキスト入力フォーム
- [x] 出力項目選択UI（職務要約、志望動機、自己PR、なぜ御社か）
- [x] 文字数指定機能
- [x] Manus AIの内部LLMによる最適化文書生成API
- [x] 生成結果の表示UI
- [x] 個別項目のコピー機能
- [x] 個別項目の再生成機能
- [x] ローディング状態の表示
- [x] エラーハンドリング

## 追加機能（フェーズ2）

### データベース・履歴管理
- [x] 生成履歴保存機能（データベーススキーマ追加）
- [x] 履歴一覧表示UI
- [x] 履歴詳細表示・再利用機能
- [x] 履歴削除機能

### 出力項目の拡充
- [x] 「職務経歴（最適化版）」項目の追加
- [x] 「企業で実現したいこと」項目の追加
- [x] カスタム項目の動的追加機能
- [x] カスタム項目の削除機能

### コピー・編集機能
- [x] 一括コピー機能（全項目をまとめてコピー）
- [x] 項目別編集機能（生成後にテキストエリアで編集可能）

### ファイル処理
- [x] PDF職務経歴書アップロード機能
- [x] Word職務経歴書アップロード機能
- [x] ファイルからのテキスト抽出処理

### 翻訳・エクスポート
- [x] 英語翻訳機能（個別項目）
- [x] 一括ダウンロード機能（Word形式）
- [x] 一括ダウンロード機能（PDF形式）

## 未実装の機能

### 画像処理（OCR）
- [ ] 求人情報の画像アップロード機能（OCR必要）
  - 外部OCRサービス（Google Cloud Vision API等）が必要
  - 現在の方針では外部APIを使用しないため未実装

### その他
- [x] 複数パターン生成機能

## 複数パターン生成機能（フェーズ5）

- [x] バックエンドに複数パターン生成APIを追加
- [x] フロントエンドにパターン数選択UIを追加
- [x] 複数パターンの表示UIを実装
- [x] パターン選択機能を実装
- [x] 選択したパターンを編集内容に反映
- [x] 複数パターン生成機能のテスト

## ログイン機能追加（フェーズ3）

- [x] バックエンドのpublicProcedureをprotectedProcedureに変更
- [x] データベーススキーマのresumesテーブルにuserIdcolカラムを追加
- [x] db.tsのクエリにユーザーIDフィルタを追加
- [x] フロントエンドに認証チェックとログインUIを追加
- [x] 未ログイン時のリダイレクト処理
- [x] テストの更新と実行

## OCR機能追加（フェーズ4）

- [x] Tesseract.jsライブラリのインストール
- [x] OCRヘルパー関数の作成
- [x] 求人情報欄に画像アップロード機能を追加
- [x] 画像からテキスト抽出処理の実装
- [x] ローディング状態とエラーハンドリングの実装
- [x] OCR機能のテスト

## APIキー設定機能（フェーズ6）

- [x] データベーススキーマにAPIキー保存用テーブルを追加
- [x] APIキー暗号化・復号化ヘルパー関数の作成
- [x] APIキー保存・取得・更新・削除のバックエンドAPI
- [x] 設定画面UIの作成（APIキー入力フォーム）
- [x] APIキー設定機能のテスト

## AI自動評価機能（フェーズ7）

- [ ] 求人との適合度スコア計算のバックエンドAPI
- [ ] 複数パターン生成時に自動評価を実行
- [ ] フロントエンドにスコア表示UIを追加
- [ ] スコアに基づくソート機能
- [ ] AI自動評価機能のテスト

## お気に入りパターン保存機能（フェーズ8）

- [ ] データベーススキーマにお気に入りパターン保存用テーブルを追加
- [ ] お気に入り保存・取得・削除のバックエンドAPI
- [ ] フロントエンドにお気に入り保存ボタンを追加
- [ ] お気に入り一覧表示UI
- [ ] 次回生成時にスタイル参考として利用する機能
- [ ] お気に入りパターン保存機能のテスト

## Gemini APIキー対応（フェーズ8）

- [x] データベーススキーマにGemini APIキー用のカラムを追加
- [x] 設定画面UIにGemini APIキー入力欄を追加
- [x] バックエンドAPIでGemini APIキーの保存・取得に対応
- [x] LLM呼び出しをinvokeLLMWithUserSettingsに置き換え
- [x] JSON Schema形式からテキスト形式のJSON出力に変更
- [x] resume.generateでGemini APIが使用されることを確認
- [x] resume.generateMultipleでGemini APIが使用されることを確認
- [x] resume.regenerateでGemini APIが使用されることを確認
- [x] resume.translateでGemini APIが使用されることを確認
- [x] Gemini API連携のテスト

## 生成履歴の検索・フィルター機能（フェーズ9）

- [ ] バックエンドAPIに検索・フィルター機能を追加
- [ ] 日付範囲での検索機能
- [ ] 求人情報キーワードでの検索機能
- [ ] フロントエンドに検索・フィルターUIを追加
- [ ] 検索結果の表示機能
- [ ] 検索・フィルター機能のテスト

## 業界別・職種別テンプレート機能（フェーズ10）

- [x] データベーススキーマにテンプレート保存用テーブルを追加
- [x] 業界別・職種別テンプレートデータの作成（IT、金融、製造、営業、マーケティングなど）
- [x] バックエンドAPIでテンプレート取得機能を実装
- [x] フロントエンドにテンプレート選択UIを追加
- [x] 選択したテンプレートを生成時に適用する機能
- [x] テンプレート機能のテスト

## AIによる職務経歴書の自動改善提案機能（フェーズ11）

- [ ] バックエンドAPIで改善提案生成機能を実装
- [ ] 生成後の文書を分析し、改善点を抽出
- [ ] より効果的な表現や構成を提案
- [ ] フロントエンドに改善提案表示UIを追加
- [ ] 改善提案を適用する機能
- [ ] 改善提案機能のテスト

## GitHubリポジトリ整備（フェーズ13）

- [x] GitHubリポジトリの作成
- [x] README.mdの作成（プロジェクト概要、セットアップ手順、使用方法）
- [x] CHANGELOG.mdの作成（実装した機能の履歴）
- [x] LICENSEファイルの作成
- [x] イシューの作成（提案機能や改善点）
- [x] コードとドキュメントのプッシュ

## ユーザー独自テンプレートのカスタマイズ機能（フェーズ12）

- [x] データベーススキーマにユーザーテンプレート保存用テーブルを追加（userTemplatesテーブル）
- [x] バックエンドAPIでユーザーテンプレートのCRUD機能を実装
- [x] フロントエンドにテンプレート作成・編集UIを追加
- [x] ユーザーテンプレート一覧表示機能
- [x] ユーザーテンプレートの削除機能
- [x] ユーザーテンプレートを使用した生成機能
- [x] ユーザーテンプレート機能のテスト

## GitHubリポジトリ整備（フェーズ13）

- [ ] GitHubリポジトリの作成
- [ ] README.mdの作成（プロジェクト概要、セットアップ手順、使用方法、機能一覧）
- [ ] CHANGELOG.mdの作成（実装した機能の履歴）
- [ ] LICENSE.mdの作成
- [ ] .gitignoreの整備
- [ ] イシューの作成（未実装機能や改善提案）
- [ ] コードとドキュメントのプッシュ

## バグ修正（フェーズ14）

- [x] PDFアップロード時のCloudflare Workerエラーを修正
- [x] テンプレート管理ボタンのスタイルを修正（ボタンとして認識できるように）
- [x] 修正内容のテスト

## AI自動評価機能（フェーズ15）

- [x] データベーススキーマに評価スコア保存用カラムを追加
- [x] バックエンドAPIで適合度スコア計算機能を実装
- [x] 複数パターン生成時の自動評価実行
- [x] フロントエンドへのスコア表示UI追加
- [x] スコアに基づくソート機能
- [x] AI自動評価機能のテスト

## UIの改善（フェーズ16）

- [x] レスポンシブデザインの最適化（モバイル対応）
- [x] ダークモード対応の実装
- [x] キーボードナビゲーションの改善（shadcn/uiのデフォルト対応）
- [x] スクリーンリーダー対応（Labelとaria属性の使用）
- [x] ローディング状態の改善（Loader2アイコンの使用）
- [x] エラーメッセージの改善（toastの使用）
- [x] UI改善のテスト

## お気に入りパターン保存機能（フェーズ17）

- [x] データベーススキーマにお気に入りパターン保存用テーブルを追加
- [x] バックエンドAPIでお気に入りパターンのCRUD機能を実装
- [x] フロントエンドにお気に入り保存ボタンを追加
- [x] お気に入りパターン一覧表示機能
- [x] お気に入りパターンの編集機能
- [x] お気に入りパターンの削除機能
- [x] パターン比較機能（複数のお気に入りを並べて比較）
- [x] お気に入りパターン機能のテスト

## お気に入りパターン比較画面の差異ハイライト表示（フェーズ18）

- [x] 差異検出アルゴリズムの実装
- [x] 比較画面UIに差異ハイライト表示機能を追加
- [x] 差異ハイライト表示のテスト

## エクスポート形式の拡張（フェーズ19）

- [x] テキストファイル形式でのエクスポート機能を追加
- [x] Markdown形式でのエクスポート機能を追加
- [x] エクスポート形式選択UIの追加
- [x] エクスポート機能のテスト

## パフォーマンス最適化（フェーズ20）

- [x] 評価処理の並列化実装
- [x] 生成速度の測定と改善（Promise.allで並列化）
- [x] パフォーマンス最適化のテスト

## 複数求人への一括適用機能（フェーズ21）

- [ ] データベーススキーマに求人バッチ管理用テーブルを追加
- [ ] バックエンドAPIで複数求人への一括最適化機能を実装
- [ ] フロントエンドに複数求人入力UIを追加
- [ ] 求人別最適化結果の比較表示機能
- [x] ホーム画面に機能説明セクションを追加
- [x] 使い方ガイドの作成（機能説明セクションに統合）
- [ ] 複数求人一括適用機能のテスト

## ガイド・チュートリアルページとプライバシーポリシー（フェーズ22）

- [x] ガイド・チュートリアルページの作成（機能説明、使い方、注意点）
- [x] プライバシーポリシーページの作成
- [x] フッターコンポーネントの作成
- [x] 各ページにフッターを追加
- [x] ルーティング設定
- [x] ヘッダーにガイドページへのリンクを追加

## フッター情報追加とエラー修正（フェーズ23）

- [x] エラーの調査と修正
- [x] フッターに製作者情報を追加（Twitter: https://x.com/kojima920）
- [x] フッターに問い合わせ先を追加（メール: mk19830920@gmail.com）
- [x] フッターに寄付先情報を追加（PayPayID: kojima1459）

## フッターの寄付メッセージ修正（フェーズ24）

- [x] 寄付メッセージを1行ずつに修正（現在2行になっているものを1行に）

## LinkedInシェア機能（フェーズ25）

- [x] LinkedInシェア用のテキスト生成ロジックを実装
- [x] 生成結果画面にLinkedInシェアボタンを追加
- [x] シェアボタンのデザインとアイコンを実装
- [x] 統計情報（項目数、文字数など）をシェアテキストに含める
- [x] LinkedInシェア機能のテスト

## カスタムシェアメッセージ機能（フェーズ26）

- [x] シェアダイアログコンポーネントの作成
- [x] 自動生成されたテキストを編集可能にする
- [x] プレビュー表示機能の実装
- [x] シェアボタンの動作を変更（ダイアログを開く）
- [x] カスタムシェアメッセージ機能のテスト

## フッターの寄付メッセージ再修正（フェーズ27）

- [x] 寄付メッセージを「★寄付頂けると励みになる為よりよい良いアプリ開発の為にご寄付を★」に変更

## UIレイアウト最適化（フェーズ28）

- [x] 左右の余白を削減してコンテンツ幅を最大化
- [x] カードのパディングを最適化
- [x] ボタン配置を整理してコンパクトに
- [x] レスポンシブデザインを改善
- [x] 視覚的な階層を明確に

## ダークモード対応強化とキーボードショートカット（フェーズ29）

- [x] ダークモードでの色のコントラストを最適化
- [x] カード、ボタン、入力フィールドの視認性を改善
- [x] グラデーション背景をダークモード対応に
- [x] Ctrl+Enterで生成開始のショートカットを実装
- [x] Ctrl+Shift+Cで全項目コピーのショートカットを実装
- [x] ショートカットヘルプの表示機能を追加
- [x] ショートカット使用時のトースト通知を実装

## ドラッグ&ドロップ対応と自動保存機能（フェーズ30）

- [x] 職務経歴書エリアにドラッグ&ドロップゾーンを追加
- [x] 求人情報エリアにドラッグ&ドロップゾーンを追加
- [x] ドラッグ中の視覚的フィードバックを実装
- [x] 既存のファイルアップロード機能との統合
- [x] localStorageを使用した自動保存機能を実装
- [x] 入力内容の定期的な保存（デバウンス処理）
- [x] ページ読み込み時の自動復元機能
- [x] 保存状態の表示
- [x] 保存データのクリアボタンを追加

## 生成履歴の詳細表示機能（フェーズ31）

- [x] 履歴詳細ダイアログコンポーネントの作成
- [x] 履歴アイテムクリックで詳細ダイアログを表示
- [x] 生成された全項目を表示
- [x] 各項目の編集機能を実装
- [x] 編集内容の保存機能を実装
- [x] 「この内容を使用」ボタンで現在の入力欄に反映
- [x] 「再生成」ボタンで同じ設定で再度生成
- [x] 日付範囲でフィルター機能を実装
- [x] キーワード検索機能を実装

## お気に入り機能（フェーズ32）

- [x] データベーススキーマにisFavoriteカラムを追加
- [x] お気に入り登録・解除のtRPCプロシージャを実装
- [x] 生成結果にお気に入りボタンを追加
- [x] 履歴ダイアログにお気に入りフィルターを追加
- [x] ヘッダーにお気に入り一覧ボタンを追加
- [x] お気に入り一覧ダイアログを作成
- [x] お気に入りからの読み込み機能を実装

## API設定UI改善とユーザーガイド（フェーズ33）

- [x] 「設定」ボタンを「API設定」に名称変更
- [x] API設定ページの作成（OpenAI / Gemini / Claude の3つから選択）
- [x] 各APIキーの取得方法へのリンクを追加
- [x] APIキー入力欄のUI改善
- [x] ユーザーガイドページの拡充（APIキー取得方法の詳細説明）
- [x] 初回訪問時のバナー表示（APIキー未設定時）
- [x] APIキー未入力時のエラーハンドリング（ポップアップ表示）
- [x] API設定ページへのリンクボタンをポップアップに追加
- [x] コードレビューとテスト
- [x] エラーハンドリングの検証

## フェーズ34: 広告枠準備とプライバシーポリシー作成

### 広告枠の準備
- [x] 広告枠コンポーネント（AdSpace.tsx）の作成
- [ ] 生成結果の下部に広告枠を配置
- [ ] サイドバーに広告枠を配置（PC表示時）
- [ ] フッター上部に広告枠を配置
- [ ] レスポンシブ対応（PC/モバイル）

### プライバシーポリシーと利用規約
- [x] プライバシーポリシーページ（Privacy.tsx）のAdSenseセクション追加
- [x] 利用規約ページ（Terms.tsx）の作成
- [x] フッターにリンクを追加

### AdSense申請ガイド
- [x] AdSense申請ガイドページ（AdSenseGuide.tsx）の作成
- [x] 申請手順の詳細説明
- [x] 審査基準の説明
- [x] よくある質問

### お知らせ機能
- [x] お知らせダイアログコンポーネント（AnnouncementDialog.tsx）の作成
- [x] ヘッダーにベルアイコンボタンを追加
- [x] カミングスーン機能7つを一覧表示
- [ ] 初回訪問時の自動表示機能

### ルーティングとテスト
- [x] App.tsxにルーティングを追加
- [x] 動作確認
- [x] チェックポイント保存

## フェーズ35: 多言語対応とスマート英語変換機能

### UI全体の多言語対応（日本語↔英語）
- [x] i18nextライブラリのインストール
- [x] i18next設定ファイルの作成
- [x] 日本語翻訳ファイル（ja.json）の作成
- [x] 英語翻訳ファイル（en.json）の作成
- [x] LanguageSwitcherコンポーネントの作成
- [x] ヘッダーに言語切り替えボタンを追加
- [ ] Home.tsxの多言語対応
- [ ] Guide.tsxの多言語対応
- [ ] ApiSettings.tsxの多言語対応
- [ ] History.tsxの多言語対応
- [ ] Favorites.tsxの多言語対応
- [ ] Templates.tsxの多言語対応
- [ ] Footer.tsxの多言語対応
- [ ] Privacy.tsxの多言語対応
- [ ] Terms.tsxの多言語対応
- [ ] AdSenseGuide.tsxの多言語対応

### スマート英語変換機能（日本語→文字数調整→英語）
- [x] バックエンドAPIでスマート英語変換機能を実装
- [x] 文字数調整機能の実装
- [x] 英語圈の履歴書フォーマットに最適化
- [x] ビジネス英語表現の使用
- [x] フロントエンドに「英語に変換」ボタンを追加
- [x] 目標文字数入力UIの実装
- [x] 日本語版と英語版の比較表示UI
- [x] EnglishConversionDialogコンポーネントの作成
- [x] 両方のダウンロード機能
- [ ] 逆変換機能（英語→日本語）
- [ ] 部分翻訳機能（特定項目のみ）
- [ ] トーン調整機能（フォーマル/カジュアル）

### テストとデプロイ
- [x] 多言語対応のテスト
- [x] スマート英語変換機能のテスト
- [ ] チェックポイント保存

## フェーズ36: お知らせ機能の初回訪問時自動表示

### 実装内容
- [x] AnnouncementDialogに「今後表示しない」オプションを追加
- [x] Home.tsxに初回訪問検知ロジックを追加
- [x] localStorageで訪問履歴を管理
- [x] 初回訪問時に自動的にお知らせダイアログを表示
- [x] テストと動作確認
- [x] チェックポイント保存

## フェーズ37: SEO対策とOGP設定

### 実装内容
- [x] OGP画像の生成（1200×630px）
- [x] メタタグの最適化（タイトル、ディスクリプション、キーワード）
- [x] Open Graph設定（Facebook、LinkedIn用）
- [x] Twitter Card設定
- [x] 構造化データ（JSON-LD）の追加
- [x] サイトマップ（sitemap.xml）の作成
- [x] robots.txtの作成
- [x] favicon設定（既存の設定を使用）
- [x] canonical URL設定
- [x] テストと動作確認
- [ ] チェックポイント保存
