# 職務経歴書最適化ツール - TODO

## MVP機能（フェーズ1）

- [x] 職務経歴書テキスト入力フォーム
- [x] 求人情報テキスト入力フォーム
- [x] 出力項目選択UI（職務要約、志望動機、自己PR、なぜ御社か）
- [x] 文字数指定機能
- [x] Manus AIの内部LLMによる最適化文書生成API
- [x] 生成結果の表示UI
- [x] 個別項目のコピー機能
- [x] 個別項目の再生成機能
- [x] ローディング状態の表示
- [x] エラーハンドリング

## 追加機能（フェーズ2）

### データベース・履歴管理
- [x] 生成履歴保存機能（データベーススキーマ追加）
- [x] 履歴一覧表示UI
- [x] 履歴詳細表示・再利用機能
- [x] 履歴削除機能

### 出力項目の拡充
- [x] 「職務経歴（最適化版）」項目の追加
- [x] 「企業で実現したいこと」項目の追加
- [x] カスタム項目の動的追加機能
- [x] カスタム項目の削除機能

### コピー・編集機能
- [x] 一括コピー機能（全項目をまとめてコピー）
- [x] 項目別編集機能（生成後にテキストエリアで編集可能）

### ファイル処理
- [x] PDF職務経歴書アップロード機能
- [x] Word職務経歴書アップロード機能
- [x] ファイルからのテキスト抽出処理

### 翻訳・エクスポート
- [x] 英語翻訳機能（個別項目）
- [x] 一括ダウンロード機能（Word形式）
- [x] 一括ダウンロード機能（PDF形式）

## 未実装の機能

### 画像処理（OCR）
- [ ] 求人情報の画像アップロード機能（OCR必要）
  - 外部OCRサービス（Google Cloud Vision API等）が必要
  - 現在の方針では外部APIを使用しないため未実装

### その他
- [ ] 複数パターン生成機能

## 複数パターン生成機能（フェーズ5）

- [x] バックエンドに複数パターン生成APIを追加
- [x] フロントエンドにパターン数選択UIを追加
- [x] 複数パターンの表示UIを実装
- [x] パターン選択機能を実装
- [x] 選択したパターンを編集内容に反映
- [x] 複数パターン生成機能のテスト

## ログイン機能追加（フェーズ3）

- [x] バックエンドのpublicProcedureをprotectedProcedureに変更
- [x] データベーススキーマのresumesテーブルにuserIdcolカラムを追加
- [x] db.tsのクエリにユーザーIDフィルタを追加
- [x] フロントエンドに認証チェックとログインUIを追加
- [x] 未ログイン時のリダイレクト処理
- [x] テストの更新と実行

## OCR機能追加（フェーズ4）

- [x] Tesseract.jsライブラリのインストール
- [x] OCRヘルパー関数の作成
- [x] 求人情報欄に画像アップロード機能を追加
- [x] 画像からテキスト抽出処理の実装
- [x] ローディング状態とエラーハンドリングの実装
- [x] OCR機能のテスト

## APIキー設定機能（フェーズ6）

- [x] データベーススキーマにAPIキー保存用テーブルを追加
- [x] APIキー暗号化・復号化ヘルパー関数の作成
- [x] APIキー保存・取得・更新・削除のバックエンドAPI
- [x] 設定画面UIの作成（APIキー入力フォーム）
- [x] APIキー設定機能のテスト

## AI自動評価機能（フェーズ7）

- [ ] 求人との適合度スコア計算のバックエンドAPI
- [ ] 複数パターン生成時に自動評価を実行
- [ ] フロントエンドにスコア表示UIを追加
- [ ] スコアに基づくソート機能
- [ ] AI自動評価機能のテスト

## お気に入りパターン保存機能（フェーズ8）

- [ ] データベーススキーマにお気に入りパターン保存用テーブルを追加
- [ ] お気に入り保存・取得・削除のバックエンドAPI
- [ ] フロントエンドにお気に入り保存ボタンを追加
- [ ] お気に入り一覧表示UI
- [ ] 次回生成時にスタイル参考として利用する機能
- [ ] お気に入りパターン保存機能のテスト

## Gemini APIキー対応（フェーズ8）

- [x] データベーススキーマにGemini APIキー用のカラムを追加
- [x] 設定画面UIにGemini APIキー入力欄を追加
- [x] バックエンドAPIでGemini APIキーの保存・取得に対応
- [ ] LLM呼び出しをGemini APIに切り替え（JSON Schema対応が必要）
- [ ] Gemini API連携のテスト
